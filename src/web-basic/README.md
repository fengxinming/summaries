# Web基础

## 浏览器解析网站的过程

* DNS域名解析
  * 在浏览器的缓存中查找(chrome://net-internals/#dns)
  * 在系统缓存及本地的hosts文件中查找
  * 在本地路由器缓存中查找
  * 发送请求至网络供应商的DNS服务器上查找
* [建立TCP连接发送三次握手](#HTTP的三次握手)
* 发送HTTP请求
* 服务器处理请求并返回HTTP报文
* 浏览器显示页面
* 断开TCP连接

## HTTP的三次握手

1. 第一次握手：客户端发送一个带SYN的TCP报文到服务器，表示客户端想要和服务器端建立连接。
2. 第二次握手：服务器端接收到客户端的请求，返回客户端报文，这个报文带有SYN和ACK确认标示，访问客户端是否准备好。
3. 第三次握手：客户端再次响应服务端一个ACK确认，表示我已经准备好了。

## HTTP的四次挥手

1. 第一次挥手：TCP发送一个FIN(结束)，用来关闭客户端到服务器端的连接。
2. 第二次挥手：服务器端收到这个FIN后发回一个ACK确认标示，确认收到。
3. 第三次挥手：服务器端发送一个FIN到客户端，服务器端关闭客户端的连接。
4. 第四次挥手：客户端发送ACK报文确认，这样关闭完成。

## HTTPS连接过程

![https](/summaries/https.png)

## 理解JS中的堆和栈

javascript的基本类型就5种：Undefined、Null、Boolean、Number和String，它们都是直接按值存储在栈中的，每种类型的数据占用的内存空间的大小是确定的，并由系统自动分配和自动释放。这样带来的好处就是，内存可以及时得到回收，相对于堆来说，更加容易管理内存空间。

javascript中其他类型的数据被称为引用类型的数据：如对象(Object)、数组(Array)、函数(Function)、Symbol，它们是通过拷贝和new出来的，这样的数据存储于堆中。其实，说存储于堆中，也不太准确，因为，引用类型的数据的地址指针是存储于栈中的，当我们想要访问引用类型的值的时候，需要先从栈中获得对象的地址指针，然后，在通过地址指针找到堆中的所需要的数据。

栈，线性结构，后进先出，便于管理。堆，一个混沌，杂乱无章，方便存储和开辟内存空间

### 栈(stack)

栈会自动分配内存空间，会自动释放，存放基本类型，简单的数据段，占据固定大小的空间。（基本类型：String，Number，Boolean，Null，Undefined）

### 堆(heap)

动态分配的内存，大小不定也不会自动释放，存放引用类型，指那些可能由多个值构成的对象，保存在堆内存中，包含引用类型的变量，实际上保存的不是变量本身，而是指向该对象的指针。（引用类型：Function，Array，Object）

### 栈和堆的区别

* 栈：所有在方法中定义的变量都是放在栈内存中，随着方法的执行结束，这个方法的内存栈也自然销毁
  * 优点：存取速度比堆快，仅次于直接位于CPU中的寄存器，数据可以共享
  * 缺点：存在栈中的数据大小与生存期必须是确定的，缺乏灵活性
* 堆：堆内存中的对象不会随方法的结束而销毁，即使方法结束后，这个对象还可能被另一个引用变量所引用(参数传递)。创建对象是为了反复利用，这个对象将被保存到运行时数据区

### 栈和堆的溢出

* 栈：可以递归调用方法，这样随着栈深度的增加，JVM维持着一条长长的方法调用轨迹，知道内存不够分配，产生栈溢出
* 堆：循环创建对象，通俗点就是不断的new 一个对象

### 传值和传址的区别

* **基本类型和引用类型的区别**

```js
var arr1 = [1,2,5,8]; 
var arr2 = arr1 ; 
var str1 = arr1[2]; 
console.log(arr2);//1,2,5,8
console.log(str1);//5
arr2[4] = 99; 
str1 = 6; 
console.log(arr1);//1,2,5,8,99
console.log(arr1[2]);//5
```

上方例子得知，当我改变arr2中的数据时，arr1中数据也发生了变化，当改变str1的数据值时，arr1却没有发生改变。为什么？这就是传值与传址的区别。

因为arr1是数组，属于引用类型，所以它赋予给arr2的时候传的是栈中的地址（相当于新建了一个不同名“指针”），而不是堆内存中的对象的值。str1得到的是一个基本类型的赋值，因此，str1仅仅是从arr1堆内存中获取了一个数值，并直接保存在栈中。arr1、arr2都指向同一块堆内存，arr2修改的堆内存的时候，也就会影响到arr1，str1是直接在栈中修改，并且不能影响到arr1堆内存中的数据。
